module.exports=__NEXT_REGISTER_PAGE("/docs/features/dns",function(){var e=webpackJsonp([50],{765:function(e,a,t){e.exports=t(766)},766:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:true});var l=t(0);var n=t.n(l);var r=t(10);var o=t.n(r);var c=t(15);var s=t(16);var m=t(22);var i=t(24);var u=t(30);a["default"]=Object(c["b"])({title:"DNS Management",date:"15 Mar 2017",authors:[s["c"],s["e"]],editUrl:"pages/docs/features/dns.js"})(o()(c["a"],function(e){return n.a.createElement("div",{className:"_markdown_"},n.a.createElement(e.p,null,"Thanks to the ",n.a.createElement(e.code,null,"now dns")," CLI command, managing existing DNS records with ",n.a.createElement(m["a"],{color:"#000"})," is simple."),n.a.createElement(e.blockquote,null,n.a.createElement(e.p,null,"However, this only applies to domains you bought via ",n.a.createElement(m["a"],{color:"#000"})," or domains configured with our ",n.a.createElement(e.a,{href:"/world"},"global DNS service"),".")),n.a.createElement(e.p,null,"In the examples shown below, the placeholder ",n.a.createElement(e.code,null,"zeit.rocks")," represents a domain of your choice that was registered with ",n.a.createElement(e.code,null,"now domains")," or ",n.a.createElement(e.code,null,"now alias"),". Here are the main sub-commands you can use:"),n.a.createElement(e.h3,null,"now dns ls"),n.a.createElement(e.p,null,"Lists all the DNS records available for this domain. The list doesn't include records generated automatically by the nameserver (like a default ",n.a.createElement(e.code,null,"SOA")," record or ",n.a.createElement(e.code,null,"A / AAAA")," records created automatically for ",n.a.createElement(e.code,null,"ALIAS")," records)."),n.a.createElement(e.h3,null,"now dns add"),n.a.createElement(e.p,null,"Adds a DNS record to a domain of your choice. The following record types are currently supported:"),n.a.createElement(e.ul,null,n.a.createElement(e.li,null,"A"),n.a.createElement(e.li,null,"AAAA"),n.a.createElement(e.li,null,"ALIAS"),n.a.createElement(e.li,null,"CAA"),n.a.createElement(e.li,null,"CNAME"),n.a.createElement(e.li,null,"MX"),n.a.createElement(e.li,null,"SRV"),n.a.createElement(e.li,null,"TXT")),n.a.createElement(e.p,null,"This is the syntax for the ",n.a.createElement(e.code,null,"now dns")," command."),n.a.createElement(e.p,null,n.a.createElement(u["a"],null,"now dns add <domain> <name> <record type> <value> [mx_priority]")),n.a.createElement(e.ul,null,n.a.createElement(e.li,null,n.a.createElement(e.code,null,"<domain>")," is the domain name"),n.a.createElement(e.li,null,n.a.createElement(e.code,null,"<name>")," is the subdomain that will be prefixed to ",n.a.createElement(e.code,null,"<domain>")," (value ",n.a.createElement(e.code,null,"@")," refers to a domain without any prefix)"),n.a.createElement(e.li,null,n.a.createElement(e.code,null,"<record type>")," contains one of the supported record types shown above"),n.a.createElement(e.li,null,n.a.createElement(e.code,null,"<value>")," indicates the value for the record (like an IP address or a hostname)"),n.a.createElement(e.li,null,n.a.createElement(e.code,null,"[mx_priority]")," sets the priority of a certain MX record and can therefore only be used in conjunction with this record type")),n.a.createElement("br",null),n.a.createElement(e.p,null,n.a.createElement(e.strong,null,"Examples")),n.a.createElement(e.p,null,n.a.createElement(u["a"],null,"now ",n.a.createElement("b",null,"dns add zeit.rocks ext A 127.0.0.1"))),n.a.createElement(e.p,null,"Creates an A record that makes the subdomain ",n.a.createElement(e.code,null,"ext.zeit.rocks")," resolve to the server located at the IP address ",n.a.createElement(e.code,null,"127.0.0.1.")),n.a.createElement(e.p,null,n.a.createElement(u["a"],null,"now ",n.a.createElement("b",null,"dns add zeit.rocks @ MX mail.awesome-now.us 10"))),n.a.createElement(e.p,null,"Creates an MX record which makes the mail server located at ",n.a.createElement(e.code,null,"mail.awesome-now.us")," responsible for handling emails sent to an address suffixed with ",n.a.createElement(e.code,null,"@zeit.rocks"),"."),n.a.createElement(e.p,null,n.a.createElement(u["a"],null,"now ",n.a.createElement("b",null,"dns add zeit.rocks @ CAA '0 issue \"comodo.com\"'"))),n.a.createElement(e.p,null,"Creates a ",n.a.createElement(e.a,{href:"https://letsencrypt.org/docs/caa/"},"CAA record")," that allows to issue certificates using ",n.a.createElement(e.a,{href:"https://ssl.comodo.com/"},"Comodo")," for ",n.a.createElement(e.code,null,"zeit.rocks")," and any sub domain under it."),n.a.createElement(e.blockquote,null,n.a.createElement(e.p,null,"In this case, you'll be in charge of certificate management for your domain.",n.a.createElement("br",null),"Most probably, you'll need to use ",n.a.createElement(e.code,null,"CAA")," records to:"),n.a.createElement(e.ol,null,n.a.createElement(e.li,null,"use a custom certificate for your ",n.a.createElement(m["a"],{color:"#000"})," deployment with ",n.a.createElement(i["d"],{href:"/docs/features/certs#now-certs-replace"},"`now certs replace`")),n.a.createElement(e.li,null,"run an app outside of ",n.a.createElement(m["a"],{color:"#000"})," with TLS for a sub domain"))),n.a.createElement(e.h3,null,"now dns rm <ID>"),n.a.createElement(e.p,null,"Removes a record by ID, which is shown in the ",n.a.createElement(e.code,null,"now dns ls")," listing. Note that it may take a couple of hours before the change is fully propagated across our infrastructure."),n.a.createElement(e.h2,null,"The API Endpoint"),n.a.createElement(e.p,null,"As of ",n.a.createElement(e.a,{href:"https://github.com/zeit/now-client"},"now-client")," version ",n.a.createElement(e.strong,null,"0.7.0"),", it comes with API wrappers for managing the DNS records within your own application."),n.a.createElement(e.p,null,"The endpoint is called ",n.a.createElement(e.code,null,"/domains/:domain/records")," and is available in our ",n.a.createElement(i["d"],{href:"/api#get-domain-records"},"REST API"),"."))}))}},[765]);return{page:e.default}});